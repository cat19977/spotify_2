{"version":3,"sources":["Components/Api.js","Components/Dashboard.js","Components/Home.js","Components/App.js","Configs/settings.js","index.js"],"names":["format_top_artists","result","new_list","i","artist","parsed","push","JSON","stringify","format_top_songs","song","initiateGetTopResult","term","type","a","token","localStorage","getItem","AuthStr","concat","key","API_URL","axios","get","headers","Authorization","then","setItem","console","log","DropDown","on_Select","DropdownButton","alignRight","title","id","onSelect","Dropdown","Item","eventKey","Display_songs","String","data","parse","titles","artists","img_url","track","listData","map","item","index","class","className","src","slice","Dashboard","useState","value","setValue","e","Home","props","getInitialData","p","func_list","split","Promise","all","state","isLoaded","this","setState","Component","LoginComponent","onSuccess","clientId","redirectUri","scope","onFailure","response","error","App","bind","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.97407a13.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst format_top_artists = (result) => {\n    var new_list = []\n    for(var i in result){\n        var artist = result[i]\n        var parsed = {'name': artist['name'], 'genres': artist['genres'], 'popularity': artist['popularity']}\n        new_list.push(parsed)\n    }\n    return JSON.stringify(new_list)\n}\n\nconst format_top_songs = (result) => {\n    var new_list = []\n    for(var i in result){\n        var song = result[i]\n        var parsed = {'name': song['name'], 'popularity': song['popularity'], 'id': song['id'], \n            'duration': song['duration_ms'], 'artist': song['artists'][0]['name'], \n            'release_date':song['album']['release_date'], 'img':song['album']['images'][0]['url']}\n        new_list.push(parsed)\n    }\n    return JSON.stringify(new_list)\n}\n\nexport const initiateGetTopResult = async (term, type) => {\n    const token = localStorage.getItem('token')\n    const AuthStr = 'Bearer '.concat(token);\n    const key = type.concat('_', term);\n      try {\n        const API_URL = `https://api.spotify.com/v1/me/top/${type}?time_range=${term}_term&limit=50`;\n        axios.get(API_URL, { headers: { Authorization: AuthStr } }).then(\n            (result) => {\n                if(type === 'artists'){\n                    localStorage.setItem(key,format_top_artists(result['data']['items']))\n                }\n                else{\n                    localStorage.setItem(key,format_top_songs(result['data']['items']))\n                }\n            });\n      }\n      catch (error) {\n        console.log('error', error);\n        console.log('didnt')\n        return null\n      }\n    }\n ","import Dropdown from 'react-bootstrap/Dropdown'\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport React, {useState} from \"react\";\nimport './../Styling/Top.css';\n\nconst DropDown = ({on_Select})=>{\n    return (\n        <DropdownButton\n        alignRight\n        title=\"Top Songs\"\n        id=\"dropdown-menu-align-right\"\n        onSelect={on_Select}\n          >\n                <Dropdown.Item eventKey=\"short\">Short Term</Dropdown.Item>\n                <Dropdown.Item eventKey=\"medium\">Medium Term</Dropdown.Item>\n                <Dropdown.Item eventKey=\"long\">All Time</Dropdown.Item>\n        </DropdownButton>\n    )\n}\n\nconst Display_songs = ({term}) =>{\n    const key = 'tracks'.concat('_', String(term));\n    const data = JSON.parse(localStorage.getItem(key))\n    var titles = []\n    var artists = []\n    var img_url = []\n    for(var i in data){\n        var track = data[i]\n        titles.push(track['name'])\n        artists.push(track['artist'])\n        img_url.push(track['img'])\n    }\n    var listData = img_url.map((item, index) =>\n    <ul class=\"img-item\">\n        <img className=\"albums\" key={index} src={item}/>\n        <div class=\"details\">\n          <h3><a class=\"title\">{titles[index]}</a></h3>\n          <p class=\"artist\">{artists[index]}</p>\n        </div>\n    </ul>\n    );\n    return(\n      <div className='row'>\n        <div class='column'>{listData.slice(0,10)}</div>\n        <div class='column'>{listData.slice(10,20)}</div>\n        <div class='column'>{listData.slice(20,30)}</div>\n        <div class='column'>{listData.slice(30,40)}</div>\n        <div class='column'>{listData.slice(40,50)}</div>\n      </div>\n    )\n  }\n\nconst Dashboard= () =>{\n    const [value,setValue]= useState('short');\n\n    const handleSelect=(e)=>{\n        setValue(e)\n      }\n    return(\n        <div>\n         <DropDown on_Select = {handleSelect}/>\n         <Display_songs term = {value}/>\n        </div>\n    )\n}\n\nexport default Dashboard","import {initiateGetTopResult} from './Api.js'\nimport {React, Component} from 'react'\nimport Dashboard from './Dashboard'\n\nclass Home extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        isLoaded: false,\n      };\n}\n  \ngetInitialData = async () =>{\n    var p = []\n    const func_list = ['artists_short', 'artists_medium', 'artists_long','tracks_short','tracks_medium','tracks_long']\n    for(var i in func_list){\n        var term = func_list[i].split('_')[1];\n        var type = func_list[i].split('_')[0];\n        p.push(initiateGetTopResult(term, type))\n    }\n    \n        Promise.all(p).then(\n            console.log('done')\n        )\n   }\n    \n  componentDidMount(){\n        this.getInitialData().then(\n            this.setState({isLoaded: true})\n        )\n    }\n    \n    render(){\n    return(\n        <div className = 'Home'>\n            {this.state.isLoaded?\n             <Dashboard/>:\n            <p>Loading...</p>\n            }\n        </div>\n    )\n  }\n}\n  \n  export default Home","import {React, Component} from 'react';\nimport './../Styling/App.css';\nimport SpotifyLogin from 'react-spotify-login';\nimport { clientId, redirectUri, scope } from './../Configs/settings.js';\nimport Home from './Home'\n\nconst LoginComponent=({onSuccess})=> {\n  const onFailure = response => console.error(response);\n  return(\n    <SpotifyLogin clientId={clientId}\n    redirectUri={redirectUri}\n    scope={scope}\n    onSuccess={onSuccess}\n    onFailure={onFailure}/>)\n}\n\nclass App extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        token: false,\n      };\n      this.onSuccess = this.onSuccess.bind(this);\n    }\n    onSuccess = response => {\n      console.log(response);\n      this.setState({token: true})\n      localStorage.setItem('token', response['access_token']);\n    }\n  \n  render(){\n  return (\n    <div className='App'>\n        {this.state.token ?\n            <Home token={this.state.token}/> :\n            <LoginComponent onSuccess={this.onSuccess}/>\n        }\n      </div>\n  )\n}\n\n}\nexport default App\n","export const clientId = 'a6164587c1e3458a99f433290cf8d250';\nexport const redirectUri = 'http://localhost:3000';\nexport const scope = 'user-top-read user-library-read user-read-recently-played'","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route, useHistory} from 'react-router-dom';\nimport App from './Components/App';\nimport 'bootstrap';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.js';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\n\n\n \nReactDOM.render(\n  \n  <Router>\n    <App/>\n  </Router>\n  ,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}